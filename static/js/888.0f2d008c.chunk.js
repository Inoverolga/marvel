"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[888],{646:(e,s,a)=>{e.exports=a.p+"static/media/mjolnir (1).4ff1a2b568b461a57169.png"},2858:(e,s,a)=>{a.d(s,{A:()=>c});const n=a.p+"static/media/Z16w.4e2dd3c1ed06262744ea.gif";var t=a(579);const c=()=>(0,t.jsx)("img",{className:"error",src:n,alt:"error"})},6057:(e,s,a)=>{a.r(s),a.d(s,{default:()=>A});var n=a(5043),t=a(9367),c=a(4795),r=a(6434),l=a(5883),o=a(579);const i=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("p",{className:"skeleton-title",children:"Please select a character to see information"}),(0,o.jsxs)("div",{className:"skeleton__wrapper",children:[(0,o.jsxs)("div",{className:"pulse skeleton__header",children:[(0,o.jsx)("div",{className:"pulse skeleton__circle"}),(0,o.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,o.jsx)("div",{className:"pulse skeleton__block"}),(0,o.jsx)("div",{className:"pulse skeleton__block"}),(0,o.jsx)("div",{className:"pulse skeleton__block"})]})]});var d=a(8502),m=a(2858);const h=(e,s,a)=>{switch(e){case"waiting":return(0,o.jsx)(i,{});case"loading":return(0,o.jsx)(d.A,{});case"confirmed":return(0,o.jsx)(s,{data:a});case"error":return(0,o.jsx)(m.A,{});default:throw new Error("Error")}},_=e=>{let{data:s}=e;const{name:a,thumbnail:t,description:l,homepage:i,wiki:d,comics:m}=s,h=(0,n.useContext)(c.A),_=(0,n.useMemo)((()=>{const e={};return h.forEach((s=>{e[s.title]=s.id})),console.log(e),e}),[h]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"randomChar__info-block",children:[(0,o.jsx)("img",{src:t,alt:a,className:"randomChar__info-block-img"}),(0,o.jsxs)("div",{className:"randomChar__content",children:[(0,o.jsx)("div",{className:"randomChar__content-characters",children:a}),(0,o.jsxs)("div",{className:"randomChar__content-buttonBlock",children:[(0,o.jsx)(r.N_,{to:i,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"HOMEPAGE"})}),(0,o.jsx)(r.N_,{to:d,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"WIKI"})})]})]})]}),(0,o.jsx)("p",{className:"charInfo__content-description",children:l}),(0,o.jsx)("h3",{className:"charInfo__content-title",children:"Comics:"}),(0,o.jsxs)("ul",{className:"charInfo__content-comicsList",children:[m.length>0?null:"There is no comics",m.map(((e,s)=>{if(s>0)return;const a=_[e];return console.log(a),(0,o.jsx)("li",{className:"charInfo__content-comicsList-item",children:(0,o.jsx)(r.N_,{to:`/comics/${a}`,children:e})},s)}))]})]})},x=e=>{let{charId:s}=e;const[a,t]=(0,n.useState)(null),{getCharacter:c,clearError:r,process:i,setProcess:d}=(0,l.A)();(0,n.useEffect)((()=>{m()}),[s]);const m=()=>{s&&(r(),c(s).then(x).then((()=>d("confirmed"))))},x=e=>{t(e)};return(0,o.jsx)("section",{className:"charInfo",children:h(i,_,a)})};var u=a(3892),j=a(899);const N=()=>{const[e,s]=(0,n.useState)([]),[a,t]=(0,n.useState)(null),[c,i]=(0,n.useState)(null),{getAllCharacters:d}=(0,l.A)();(0,n.useEffect)((()=>{(async()=>{try{const e=await d("offset",20);e?s(e):console.error("No data received from API")}catch(e){console.error("Failed to load comics:",e)}})()}),[]);return(0,o.jsx)(u.l1,{initialValues:{search:""},validationSchema:j.Ik({search:j.Yj().required("This field is required")}),onSubmit:(s,a)=>{let{setSubmitting:n}=a;const c=e.find((e=>e.name.toLowerCase()===s.search.toLowerCase()));c?(console.log("super - \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u043d\u0430\u0439\u0434\u0435\u043d"),t(`There is! Visit ${s.search} page?`),i(c)):(console.log("bad - \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"),t("The character was not found. Check the name and try again"),i(null)),n(!1)},children:(0,o.jsxs)(u.lV,{className:"appform",children:[(0,o.jsx)("label",{className:"appform__name",htmlFor:"search",children:"Or find a character by name:"}),(0,o.jsxs)("div",{className:"appform-wrapper",children:[(0,o.jsx)(u.D0,{id:"search",className:"appform__input",name:"search",type:"text",placeholder:"Enter name"}),(0,o.jsx)("div",{className:"randomChar__content-buttonBlock",children:(0,o.jsx)("button",{type:"submit",className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"FIND"})})})]}),(0,o.jsx)(u.Kw,{className:"error",name:"search",component:"div"}),(0,o.jsx)("div",{className:"appform__message",children:a&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{style:{color:c?"#03710e":"#9f0013",paddingTop:"25px",fontWeight:"700",fontSize:"18px"},className:"search-result",children:a}),c&&(0,o.jsx)(r.N_,{to:`/characters/${c.id}`,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"TO PAGE"})})]})})]})})};var p=a(9391),b=a(3523);a(6996);const f=e=>{const[s,a]=(0,n.useState)([]),[t,c]=(0,n.useState)(!1),[r,i]=(0,n.useState)(0),[h,_]=(0,n.useState)(!1),{loading:x,error:u,getAllCharacters:j}=(0,l.A)();(0,n.useEffect)((()=>{N()}),[]);const N=()=>{j(r).then((e=>a(e)),i(9))},f=e=>{e.current.classList.add("charList__selected"),e.current.focus()},v=u?(0,o.jsx)(m.A,{}):null,g=x&&!t?(0,o.jsx)(d.A,{}):null,k=s.map(((s,a)=>{const{thumbnail:t,name:c,id:r}=s,l=(0,n.createRef)(null);return(0,o.jsx)(p.A,{in:!0,timeout:1e3,classNames:"char-anim",nodeRef:l,children:(0,o.jsxs)("li",{ref:l,tabIndex:0,className:"charList__flex-item",onClick:()=>{e.onCharSelected(s.id),f(l)},onBlur:()=>{l.current.classList.remove("charList__selected")},onKeyDown:a=>{" "!==a.key&&"Enter"!==a.key||(e.onCharSelected(s.id),f(l))},children:[(0,o.jsx)("img",{src:t,alt:c,className:"charList__flex-img"}),(0,o.jsx)("div",{className:"charList__flex-name",children:c})]})},r)}));return(0,o.jsxs)("section",{className:"charList",children:[(0,o.jsxs)("ul",{className:"charList__flex spinner error",children:[g,v,(0,o.jsx)(b.A,{component:null,className:"charList__flex",children:k})]}),(0,o.jsx)("div",{className:"randomChar__content-buttonBlock",children:(0,o.jsx)("button",{className:"button button__long button__main",disabled:x,style:{display:h?"none":"block"},onClick:()=>((e,s)=>{c(!s),j(e).then((e=>{let s=!1;(e.length<9||0===e.length)&&(s=!0),a((s=>[...s,...e])),i((e=>e+9)),_(s)})).catch((e=>{console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0435\u0439:",e)}))})(r),children:(0,o.jsx)("div",{className:"inner",children:"LOAD MORE"})})})]})};a(6638);const v=e=>{let{data:s}=e;const{name:a,thumbnail:n,description:t,homepage:c,wiki:l}=s;return(0,o.jsxs)("div",{className:"randomChar__info-block",children:[(0,o.jsx)("img",{src:n,alt:a,className:"randomChar__info-block-img"}),(0,o.jsxs)("div",{className:"randomChar__content ",children:[(0,o.jsx)("div",{className:"randomChar__content-characters",children:a}),(0,o.jsx)("p",{className:"randomChar__content-text",children:t}),(0,o.jsxs)("div",{className:"randomChar__content-buttonBlock",children:[(0,o.jsx)(r.N_,{to:c,className:"button button__main",children:(0,o.jsx)("div",{className:"inner",children:"HOMEPAGE"})}),(0,o.jsx)(r.N_,{to:l,className:"button button__secondary",children:(0,o.jsx)("div",{className:"inner",children:"WIKI"})})]})]})]})},g=()=>{const[e,s]=(0,n.useState)({}),{process:t,setProcess:c,getCharacter:i,clearError:d}=(0,l.A)();(0,n.useEffect)((()=>{_()}),[]);const m=e=>{s(e)},_=()=>{d();const e=Math.floor(19*Math.random()+1);i(e).then(m).then(c("confirmed"))};return(0,o.jsxs)("section",{className:"randomChar",children:[h(t,v,e),(0,o.jsxs)("div",{className:"randomChar__cta-block",children:[(0,o.jsxs)("p",{className:"randomChar__cta-block-text",children:["Random character for today! ",(0,o.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,o.jsx)("p",{className:"randomChar__cta-block-text randomChar__cta-block-text-second",children:"Or choose another one"}),(0,o.jsx)(r.N_,{to:"/",className:"button button__main randomChar__cta-block-button",children:(0,o.jsx)("div",{className:"inner",onClick:_,children:"TRY IT"})}),(0,o.jsxs)("div",{className:"randomChar__cta-block-decoration",children:[(0,o.jsx)("img",{className:"randomChar__cta-block-decoration-shield",src:a(9440),alt:"shield"}),(0,o.jsx)("img",{className:"randomChar__cta-block-decoration-mjolnir",src:a(646),alt:"mjolnir"})]})]})]})};var k=a(6950);const C=a.p+"static/media/vision.067d4ae1936d64a577ce.png";a(3782);const A=()=>{const[e,s]=(0,n.useState)(null);return(0,n.useEffect)((()=>(document.title="Marvel",()=>{document.title=""})),[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.mg,{children:[(0,o.jsx)("meta",{name:"description",content:"Marvel"}),(0,o.jsx)("title",{children:"Marvel"})]}),(0,o.jsx)(k.A,{children:(0,o.jsx)(g,{})}),(0,o.jsxs)("div",{className:"char__content",children:[(0,o.jsx)(k.A,{children:(0,o.jsx)(f,{onCharSelected:e=>{s(e)}})}),(0,o.jsxs)("div",{className:"char__content-forma",children:[(0,o.jsx)(k.A,{children:(0,o.jsx)(x,{charId:e})}),(0,o.jsx)(N,{})]})]}),(0,o.jsx)("img",{className:"bg-decoration",src:C,alt:"vision"})]})}},6950:(e,s,a)=>{a.d(s,{A:()=>l});var n=a(5043),t=a(2858),c=a(579);class r extends n.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e,s){console.log(e,s),this.setState({error:!0})}render(){return this.state.error?(0,c.jsx)(t.A,{}):this.props.children}}const l=r},9440:(e,s,a)=>{e.exports=a.p+"static/media/shield.5a539cd62b5de851f7bd.png"}}]);
//# sourceMappingURL=888.0f2d008c.chunk.js.map